@for (card of cards(); track card) {
  @if (card) {
    <div
      class="card-wrapper"
      [class]="getTierClass(card.tier)"
      [class.is-best-card]="card.bestCard"
    >
      <div class="image-section">
        <img [src]="card.imageUrl" [alt]="card.name" loading="lazy" />

        <div class="tier-badge">
          {{ card.tier }}
        </div>

        @if (card.bestCard) {
          <div class="best-card-label"><span class="crown">ðŸ‘‘</span> BEST PICK</div>
        }
      </div>

      <div class="info-section">
        <div class="card-header">
          <h3 class="name">{{ card.name }}</h3>
          <span class="rarity-dot" [title]="card.rarity" [class]="card.rarity"></span>
        </div>

        <div class="stats-grid">
          <div class="stat-row main-stat">
            <span class="label">GIH WR</span>
            <span class="value">{{ card.everDrawnWinRate | percent: '1.1-1' }}</span>
          </div>

          <div class="stat-row">
            <span class="label">IWD</span>
            <span
              class="value"
              [class.positive]="card.drawnImprovementWinRate > 0"
              [class.negative]="card.drawnImprovementWinRate < 0"
            >
              {{ card.drawnImprovementWinRate > 0 ? '+' : ''
              }}{{ card.drawnImprovementWinRate | percent: '1.1-1' }}
            </span>
          </div>

          <div class="stat-row dim">
            <span class="label">Never Drawn</span>
            <span class="value">{{ card.neverDrawnWinRate | percent: '1.1-1' }}</span>
          </div>
        </div>
      </div>
    </div>
  } @else {
    <div class="empty-state">No hay cartas para mostrar.</div>
  }
}
